绩效定义
===

概述
---

iDempiere可以提供类似基于“关键绩效指标”或者“平衡计分卡”的绩效管理：
1. 灵活的指标。
2. 预警功能。
3. 桌面仪表盘。
4. 绩效数据追溯。
5. 绩效数据控制。

绩效规则：你的目标是什么，你如何评估？
设置顺序：先定义评估，最后定义目标。
系统提供三种绩效评估方式：量化评估、主观评估，完成状态。
系统会将评估以百分比形式表示，基于达到值对比目标值，或者基于已完成数量对比总数量。

通常每个部门需要看的仪表盘都不一样，常用的关键评估项有：
1. 金额类：合同金额、发票金额、利润
2. 时间类：交货时间，到货时间
3. 成本类：订单成本，存货成本
4. 数量类：质量次数、满意度

> ###刷新仪表盘
> 1. 系统仪表盘30分钟刷新一次数据。参考 MGoal.java
> 2. 如果修改绩效目标，可以在窗口立即得到计算结果，但目标需要来回设置2下
> 3. 目标修改后，桌面仪表盘无法刷新，需注销才可以看到修改结果
> 3. 调整绩效目标的时间显示范围，需要注销才可以看到修改结果
> 4. 我目瞪口呆

> ###Sql语句
> 数据定义使用Sql语句，请咨询你的系统管理员。
> 
> BUG: 5.1.0.v20171102-1854
> 1. 绩效目标修改指标范围或者修改指标类型后，保存目标会触发绩效计算导致web界面假死
> 
> Transaction closed or never opened (POSavePA_Goal_852c1fb2-a829-4c1c-b4fc-84b0ab5c66bb) => starting now --> MGoal[1000004-Purchase Per,0.500000]

定义流程
---

定义颜色--> 定义绩效指标 --> 定义绩效目标

![](https://static.oschina.net/uploads/space/2017/1109/132720_OV0W_2720480.png)

定义指标计算
---

1. 系统内置了6个测量计算，可供参考。
2. 使用Sql语句，如下图。

![](http://static.oschina.net/uploads/space/2016/0429/023311_OYlK_2720480.png)

（绩效比率）
---

代码被鲨鱼吃了，不可用，可取消菜单显示。

（绩效标杆）
---

代码被鲨鱼吃了，不可用，可取消菜单显示。

定义绩效指标
---

1. 测量数据类型：状态（仅对“测量类型=达成”有效），数量/金额（期间内的历史数据）
2. 测量类型：计算，手动，项目，请求，用户打分，达成打分（与1相关）
3. 基准：绩效的基准
4. 层次树：维度层次树

> ###指标数据类型
> 1、当前版本v5.1.0.v20171116-0526，“状态/时间”只对达成项起作用。
> 2、“状态”表示按达成项分组，“时间”表示按时间分组。
> 参考：MMeasure.java L146
> MMeasure.getGraphColumnList	org.adempiere.base\src\org\compiere\model)

定义绩效目标
---

1. 系统内置的4个绩效目标。
  - 发票毛利润
  - 未清发票金额
  - 季度服务请求
  - 未完成服务请求

> ###如何设置仪表盘绩效目标的访问权限
> Perfermence Goal窗口中选中Role 或者 User , 或者设置”限制“页签中的org组织。

![图：绩效目标的权限设置](https://static.oschina.net/uploads/space/2017/0412/100011_Mccl_2720480.png)

例1：达成项
---

绩效指标：部门KPI
指标数据类型=状态分布；测量类型=达成打分（需要手动导入每月绩效数据）
达成项：输入5个月数据，每个数据5项，每项=已达成（否则不显示）

绩效目标：指标范围=全部，指标显示=全部，目标值不起左右

显示结果：最后一个月的5个达成状态的柱状图

注意：
1. 如果数据类型=时间分布，柱状图按时间分布。
2. 无需绩效计算，绩效目标无结果，指针=0。
3. 可二次开发，计算每月部门达成项结果，实时显示达成情况。

![绩效计算=达成项](https://static.oschina.net/uploads/space/2018/0116/012603_CK2K_2720480.png)

例2：请求数量
---

绩效指标：请求KPI 
指标数据类型=时间分布；测量类型=请求数据，请求类型=选择需要统计的请求类型

绩效目标：指标范围=全部，指标显示=全部，目标值=设置期望的目标值

显示结果：按月分布的请求个数

注意：
1. 指标数据类型=状态分布，柱状图无状态显示，设置时间分布即可。
2. 无需绩效计算
3. 可二次开发，获取请求状态的分布情况。
4. 项目与请求类似，测量类型=项目数据，即可统计项目信息。

例3：销售毛利
---

绩效指标：销售毛利
指标数据类型=时间分布；测量类型=绩效计算

绩效计算：sql语句，参考内置例子

绩效目标：指标范围=全部，指标显示=全部，目标值=设置期望的目标值（注意是累计值）

显示结果：按月分布的销售毛利柱状图

注意：
1. 指标数据类型=状态分布，柱状图无状态显示，设置时间分布即可
2. 无需绩效计算
3. 可二次开发，绩效标杆，作为参考值，当前版本无此功能

![请求个数/销售毛利](https://static.oschina.net/uploads/space/2018/0116/015926_Gunx_2720480.png)

